<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="王佳蕾">
  <meta name="Keywords" content="省市县三级联动">
  <meta name="Description" content="">
  <title>省市县三级联动</title>
  <script type="text/javascript" src="js/jquery-1.12.1.min.js"></script>
   <script type="text/javascript" src="js/areaData.js"></script>
 </head>
 <body>
	<select id="sheng" name='sheng'>
		<option value="0">省</option>
	</select>
	<select id='shi'>
		<option value="0">市</option>
	</select>
	<select id='xian'>
		<option value="0">县</option>
	</select>
	<script type="text/javascript">
		(function(){
			var $sheng=$("#sheng");
			var $shi=$("#shi");
			var $xian=$("#xian");
			var sheng=areaData['sheng'];
			var shiIndex=0;
			var xianIndex=0;
			for(var i=0;i<sheng.length;i++){
				var $option=$('<option value='+(i+1)+'>'+sheng[i]+'</option>');
				$sheng.append($option);
			}
			$sheng.change(function(){
				shiIndex=this.selectedIndex-1;
				if(shiIndex>=0){
					$shi.html('<option value="0">市</option>');
					$xian.html('<option value="0">县</option>');
					var shi=areaData['shi']['a_'+shiIndex];
					for(var i=0;i<shi.length;i++){
						var $option=$('<option value='+(i+1)+'>'+shi[i]+'</option>');
						$shi.append($option);
					}
				}
			});
			$shi.change(function(){
				xianIndex=this.selectedIndex-1;
				if(xianIndex>=0){
					$xian.html('<option value="0">县</option>');
					var xian=areaData['xian']['a_'+shiIndex+'_'+xianIndex];
					for(var i=0;i<xian.length;i++){
						var $option=$('<option value='+(i+1)+'>'+xian[i]+'</option>');
						console.log(xian[i]);
						$xian.append($option);
					}
				}
			});
		})();
	</script>
 </body>
</html>
